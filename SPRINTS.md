# Documenta√ß√£o das Sprints - Loja Musical

## Sprint 1

### S1-R3: Criar Cat√°logo Visual de Instrumentos ‚úÖ

**Implementa√ß√£o:**
- Componente `InstrumentosPage.jsx` com design de cards
- Grid responsivo adapt√°vel a diferentes tamanhos de tela
- Sistema de filtros por categoria
- Badges visuais para categorias
- Informa√ß√µes de pre√ßo e estoque
- Bot√£o de adicionar ao carrinho integrado
- CSS moderno com efeitos hover e transi√ß√µes

**Arquivos:**
- `/frontend/src/pages/InstrumentosPage.jsx`
- `/frontend/src/styles/Instrumentos.css`

### S1-R4: Cadastro de Clientes da Loja Musical ‚úÖ

**Implementa√ß√£o Backend:**
- Rota `POST /api/clientes` para cadastro
- Valida√ß√£o de dados obrigat√≥rios
- Criptografia de senha com bcrypt
- Verifica√ß√£o de duplicidade (email e CPF)
- Campos: nome, email, senha, cpf, telefone, endere√ßo completo

**Implementa√ß√£o Frontend:**
- Componente `Cadastro.jsx` com formul√°rio completo
- Valida√ß√£o de senhas coincidentes
- Feedback visual de erros e sucesso
- Redirecionamento autom√°tico ap√≥s cadastro
- Design responsivo e intuitivo

**Arquivos:**
- `/backend/src/routes/clientesRoutes.js`
- `/frontend/src/pages/Cadastro.jsx`
- `/frontend/src/styles/Cadastro.css`

### S1-R5: Login para Comprar Instrumentos ‚úÖ

**Implementa√ß√£o Backend:**
- Rota `POST /api/auth/login` com JWT
- Verifica√ß√£o de credenciais
- Gera√ß√£o de token com validade de 24h
- Middleware de verifica√ß√£o de token
- Rota de verifica√ß√£o de token v√°lido

**Implementa√ß√£o Frontend:**
- Componente `Login.jsx`
- Context API para gerenciamento de autentica√ß√£o
- Armazenamento de token no localStorage
- Prote√ß√£o de rotas que requerem login
- Header de autoriza√ß√£o autom√°tico nas requisi√ß√µes
- Feedback de login bem-sucedido ou com erro

**Arquivos:**
- `/backend/src/routes/authRoutes.js`
- `/frontend/src/pages/Login.jsx`
- `/frontend/src/context/AuthContext.jsx`
- `/frontend/src/styles/Login.css`

---

## Sprint 2

### S2-R1: √Årea do Cliente (Meus Pedidos) ‚úÖ

**Implementa√ß√£o Backend:**
- Rota `GET /api/pedidos/meus-pedidos` (autenticada)
- Rota `GET /api/pedidos/:id` para detalhes
- Listagem de pedidos com informa√ß√µes resumidas
- Detalhamento completo de cada pedido com itens

**Implementa√ß√£o Frontend:**
- Componente `MeusPedidos.jsx` com lista de pedidos
- Componente `DetalhesPedido.jsx` para visualiza√ß√£o completa
- Badges coloridos por status do pedido
- Hist√≥rico completo de compras
- Navega√ß√£o entre lista e detalhes
- Informa√ß√µes de data, status, total e itens

**Arquivos:**
- `/backend/src/routes/pedidosRoutes.js`
- `/frontend/src/pages/MeusPedidos.jsx`
- `/frontend/src/pages/DetalhesPedido.jsx`
- `/frontend/src/styles/MeusPedidos.css`
- `/frontend/src/styles/DetalhesPedido.css`

### S2-R2: Carrinho de Instrumentos Musicais ‚úÖ

**Implementa√ß√£o Backend:**
- Rota `GET /api/carrinho` - listar itens
- Rota `POST /api/carrinho` - adicionar item
- Rota `PUT /api/carrinho/:id` - atualizar quantidade
- Rota `DELETE /api/carrinho/:id` - remover item
- Rota `DELETE /api/carrinho` - limpar carrinho
- Verifica√ß√£o de estoque dispon√≠vel
- Preven√ß√£o de duplica√ß√£o de itens

**Implementa√ß√£o Frontend:**
- Componente `Carrinho.jsx` completo
- Context API para gerenciamento do carrinho
- Badge de contador na navbar
- Controles de quantidade (+/-)
- Remo√ß√£o de itens com confirma√ß√£o
- C√°lculo autom√°tico de subtotais e total
- Valida√ß√£o de estoque
- Bot√£o de finalizar compra

**Arquivos:**
- `/backend/src/routes/carrinhoRoutes.js`
- `/frontend/src/pages/Carrinho.jsx`
- `/frontend/src/context/CarrinhoContext.jsx`
- `/frontend/src/styles/Carrinho.css`

### S2-R3: Finalizar Compra de Instrumentos ‚úÖ

**Implementa√ß√£o Backend:**
- Rota `POST /api/pedidos` com transa√ß√£o SQL
- Valida√ß√£o de carrinho n√£o vazio
- Verifica√ß√£o de estoque antes da compra
- Cria√ß√£o do pedido com todos os itens
- Atualiza√ß√£o autom√°tica do estoque
- Limpeza autom√°tica do carrinho
- Rollback em caso de erro

**Implementa√ß√£o Frontend:**
- Componente `Checkout.jsx` com formul√°rio
- Valida√ß√£o de endere√ßo de entrega
- Resumo do pedido antes da confirma√ß√£o
- Componente `PedidoConfirmado.jsx` com sucesso
- Exibi√ß√£o de n√∫mero do pedido
- Links para acompanhamento e nova compra
- Loading durante processamento

**Arquivos:**
- `/backend/src/routes/pedidosRoutes.js`
- `/frontend/src/pages/Checkout.jsx`
- `/frontend/src/pages/PedidoConfirmado.jsx`
- `/frontend/src/styles/Checkout.css`
- `/frontend/src/styles/PedidoConfirmado.css`

### S2-R4: Gest√£o de Pedidos da Loja Musical ‚úÖ

**Implementa√ß√£o Backend:**
- Rota `GET /api/pedidos/admin/todos` - listar todos os pedidos
- Rota `PUT /api/pedidos/admin/:id/status` - atualizar status
- Informa√ß√µes completas de cliente e pedido
- Estados: pendente, confirmado, enviado, entregue, cancelado

**Implementa√ß√£o Frontend:**
- Componente `Admin.jsx` - painel administrativo
- Tabela responsiva com todos os pedidos
- Filtros e ordena√ß√£o
- Dropdown para mudan√ßa de status
- Estat√≠sticas de pedidos
- Cards com m√©tricas (total, pendentes, entregues)
- Design profissional de dashboard

**Arquivos:**
- `/backend/src/routes/pedidosRoutes.js`
- `/frontend/src/pages/Admin.jsx`
- `/frontend/src/styles/Admin.css`

---

## Estrutura do Banco de Dados

### Tabela: instrumentos
- id (PK)
- nome
- descricao
- preco
- quantidade (estoque)
- imagem
- categoria
- created_at

### Tabela: clientes
- id (PK)
- nome
- email (UNIQUE)
- senha (hash)
- cpf (UNIQUE)
- telefone
- endereco
- cidade
- estado
- cep
- created_at

### Tabela: pedidos
- id (PK)
- cliente_id (FK)
- total
- status (ENUM)
- data_pedido
- endereco_entrega
- observacoes

### Tabela: itens_pedido
- id (PK)
- pedido_id (FK)
- instrumento_id (FK)
- quantidade
- preco_unitario
- subtotal

### Tabela: carrinho
- id (PK)
- cliente_id (FK)
- instrumento_id (FK)
- quantidade
- created_at
- UNIQUE (cliente_id, instrumento_id)

---

## Fluxo de Uso

1. **Cadastro**: Cliente se registra no sistema
2. **Login**: Cliente faz login e recebe token JWT
3. **Navega√ß√£o**: Cliente navega pelo cat√°logo de instrumentos
4. **Carrinho**: Cliente adiciona produtos ao carrinho
5. **Checkout**: Cliente finaliza a compra com endere√ßo
6. **Confirma√ß√£o**: Sistema processa e confirma o pedido
7. **Acompanhamento**: Cliente visualiza pedidos em "Meus Pedidos"
8. **Gest√£o**: Admin gerencia status dos pedidos

---

## Recursos Adicionais Implementados

- ‚úÖ Sistema de navega√ß√£o completo com React Router
- ‚úÖ Context API para estado global (Auth e Carrinho)
- ‚úÖ Design responsivo para todas as telas
- ‚úÖ Feedback visual para todas as a√ß√µes
- ‚úÖ Tratamento de erros consistente
- ‚úÖ Loading states
- ‚úÖ Valida√ß√µes front e backend
- ‚úÖ Transa√ß√µes SQL para integridade de dados
- ‚úÖ Componente Navbar din√¢mico
- ‚úÖ P√°gina Home com apresenta√ß√£o da loja

---

## Tecnologias e Bibliotecas

**Backend:**
- Express 5.1.0
- MySQL2 3.15.2
- JWT (jsonwebtoken 9.0.2)
- Bcrypt (bcryptjs 2.4.3)
- CORS 2.8.5
- Dotenv 17.2.3

**Frontend:**
- React 19.1.1
- React Router DOM 6.22.0
- Axios 1.12.2
- Vite 7.1.7

---

## Conclus√£o

Todas as funcionalidades das Sprints 1, 2 e 3 foram implementadas com sucesso, incluindo:
- Interface visual moderna e responsiva
- Sistema completo de autentica√ß√£o
- Gest√£o de carrinho de compras
- Processo de checkout e finaliza√ß√£o
- √Årea do cliente com hist√≥rico
- Painel administrativo de gest√£o

O projeto est√° pronto para apresenta√ß√£o ao professor! üéµ
